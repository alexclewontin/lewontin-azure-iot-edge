

To build, run `snapcraft [--destructive-mode|--use-lxd] in the this directory.
To install, `sudo snap install lewontin-azure-iot-edge_*.snap --dangerous`
You'll also want to run `sudo snap install docker`

Then, run the following:

```
	snap set lewontin-azure-iot-edge hostname="<YOUR-HOSTNAME-HERE>"
	snap set lewontin-azure-iot-edge provisioning.source="manual"
	snap set lewontin-azure-iot-edge provisioning.device-connection-string="<DEVICE-CONNECTION-STRING>"

	snap connect lewontin-azure-iot-edge:docker docker:docker-daemon
	snap connect lewontin-azure-iot-edge:docker-executables docker:docker-executables
	snap connect lewontin-azure-iot-edge:sockets
	snap connect lewontin-azure-iot-edge:tpm

	# Optionally, mostly for reducing log spam or to facilitate features that aren't quite working correctly yet
	snap connect lewontin-azure-iot-edge:hostname-control
	snap connect lewontin-azure-iot-edge:system-observe
	snap connect lewontin-azure-iot-edge:mount-observe

	snap start lewontin-azure-iot-edge
```

For daemon logs: `snap logs [-f] lewontin-azure-iot-edge

For the iotedge executable: `lewontin-azure-iot-edge.iotedge <YOUR_ARGS_HERE>`
For the aziotctl executable: `lewontin-azure-iot-edge.aziotctl <YOUR_ARGS_HERE>`


***

Tested only on Ubuntu Desktop 20.04

BROKEN:
  - Everything runs as root, and where various pieces expect otherwise, things break. The most immediate effect is that `sudo lewontin-azure-iot-edge.{aziotctl,iotedge} config apply` both fail with the message `could not query aziotks user information`
